{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46590037-17c17d616a892c92268aed1a1';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = query => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  return fetch(`${BASE_URL}?${searchParams.toString()}`).then(response => {\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n\n    return response.json();\n  });\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const renderImages = images => {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class=\"gallery-item\">\n      <a href=\"${largeImageURL}\" class=\"gallery-link\">\n        <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\"/>\n      </a>\n      <div class=\"info\">\n        <p><b>Likes:</b> ${likes}</p>\n        <p><b>Views:</b> ${views}</p>\n        <p><b>Comments:</b> ${comments}</p>\n        <p><b>Downloads:</b> ${downloads}</p>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n};\n\nlet lightbox;\n\nexport const initializeLightbox = () => {\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n};\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, initializeLightbox } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refsEl = {\n  searchForm: document.querySelector('.search-form'),\n  inputForm: document.querySelector('.form-input'),\n  searchBtn: document.querySelector('.form-button'),\n  gallery: document.querySelector('.gallery'),\n  loaderEl: document.querySelector('.loader'),\n};\n\nconst { searchForm, inputForm, searchBtn, gallery, loaderEl } = refsEl;\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n  const query = event.target.elements.search.value.trim();\n  if (query === '') {\n    gallery.innerHTML = '';\n    event.target.reset();\n    iziToast.show({\n      // title: 'Hey',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      timeout: 2000,\n      backgroundColor: '#EF4040',\n      messageColor: '#FAFAFB',\n      messageSize: '16px',\n      messageLineHeight: '1.5',\n      class: 'error',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n\n  fetchImages(query)\n    .then(imagesData => {\n      if (imagesData.total === 0) {\n        iziToast.show({\n          // title: 'Hey',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          timeout: 2000,\n          backgroundColor: '#EF4040',\n          messageColor: '#FAFAFB',\n          messageSize: '16px',\n          messageLineHeight: '1.5',\n          class: 'error',\n        });\n      }\n      gallery.innerHTML = renderImages(imagesData.hits);\n      initializeLightbox();\n      event.target.reset();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n"],"names":["API_KEY","BASE_URL","fetchImages","query","searchParams","response","renderImages","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","initializeLightbox","SimpleLightbox","refsEl","searchForm","inputForm","searchBtn","gallery","loaderEl","onSearchFormSubmit","event","iziToast","imagesData","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAcC,GAAS,CAClC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,EAAa,SAAQ,CAAE,EAAE,EAAE,KAAKC,GAAY,CACtE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAG/C,OAAOA,EAAS,MACpB,CAAG,CACH,ECfaC,EAAeC,GACnBA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,iBAEKL,CAAa;AAAA,wCACUD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,2BAGvCC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA;AAAA;AAAA,GAInC,EACA,KAAK,EAAE,EAGZ,IAAIC,EAEG,MAAMC,EAAqB,IAAM,CAClCD,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIE,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,ECrCMC,EAAS,CACb,WAAY,SAAS,cAAc,cAAc,EACjD,UAAW,SAAS,cAAc,aAAa,EAC/C,UAAW,SAAS,cAAc,cAAc,EAChD,QAAS,SAAS,cAAc,UAAU,EAC1C,SAAU,SAAS,cAAc,SAAS,CAC5C,EAEM,CAAE,WAAAC,EAAY,UAAAC,EAAW,UAAAC,EAAW,QAAAC,EAAS,SAAAC,CAAU,EAAGL,EAEhEC,EAAW,iBAAiB,SAAUK,CAAkB,EAExD,SAASA,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMtB,EAAQsB,EAAM,OAAO,SAAS,OAAO,MAAM,OACjD,GAAItB,IAAU,GAAI,CAChBmB,EAAQ,UAAY,GACpBG,EAAM,OAAO,QACbC,EAAS,KAAK,CAEZ,QACE,2EACF,SAAU,WACV,QAAS,IACT,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,kBAAmB,MACnB,MAAO,OACb,CAAK,EACD,MACD,CAEDJ,EAAQ,UAAY,GACpBC,EAAS,UAAU,OAAO,WAAW,EAErCrB,EAAYC,CAAK,EACd,KAAKwB,GAAc,CACdA,EAAW,QAAU,GACvBD,EAAS,KAAK,CAEZ,QACE,2EACF,SAAU,WACV,QAAS,IACT,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,kBAAmB,MACnB,MAAO,OACjB,CAAS,EAEHJ,EAAQ,UAAYhB,EAAaqB,EAAW,IAAI,EAChDX,IACAS,EAAM,OAAO,OACnB,CAAK,EACA,MAAMG,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbH,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL"}